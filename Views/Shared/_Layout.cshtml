@using HMS.Common;
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor _httpContextAccessor
@{
    string currentAction = ViewContext.RouteData.Values["action"].ToString();
    string controllerName = ViewContext.RouteData.Values["controller"].ToString();
}
@* @{
    ErhardtLeimer.Common.EncryptDecrypt encDecr = new ErhardtLeimer.Common.EncryptDecrypt();
    var userSession = _httpContextAccessor.HttpContext.Session.GetString("UserId");
} *@
<!DOCTYPE html>
<html lang="en">
<head>
    <title>@ViewData["Title"] - Erhardt Leimer</title>
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="Description" content="Bootstrap Responsive Admin Web Dashboard HTML5 Template">
    <meta name="Author" content="Spruko Technologies Private Limited">
    <meta name="Keywords" content="admin,admin dashboard,admin dashboard template,admin panel template,admin template,admin theme,bootstrap 4 admin template,bootstrap 4 dashboard,bootstrap admin,bootstrap admin dashboard,bootstrap admin panel,bootstrap admin template,bootstrap admin theme,bootstrap dashboard,bootstrap form template,bootstrap panel,bootstrap ui kit,dashboard bootstrap 4,dashboard design,dashboard html,dashboard template,dashboard ui kit,envato templates,flat ui,html,html and css templates,html dashboard template,html5,jquery html,premium,premium quality,sidebar bootstrap 4,template admin bootstrap 4" />
    <!--- Favicon --->
    <link rel="icon" href="~/assets/img/brand/favicon.png" type="image/x-icon" />
    <!-- Bootstrap css -->
    <link href="../assets/plugins/bootstrap-4.1.3/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Style css -->
    <link href="../assets/css/style.css" rel="stylesheet" />

    <!-- Default css -->
    <link href="../assets/css/default.css" rel="stylesheet">

    <!-- Sidemenu css-->
    <link rel="stylesheet" href="../assets/plugins/sidemenu/icon-sidemenu.css">

    <!-- Owl-carousel css-->
    <link href="../assets/plugins/owl-carousel/owl.carousel.css" rel="stylesheet" />

    <!-- Bootstrap-daterangepicker css -->
    <link rel="stylesheet" href="../assets/plugins/bootstrap-daterangepicker/daterangepicker.css">

    <!-- Bootstrap-datepicker css -->
    <link rel="stylesheet" href="../assets/plugins/bootstrap-datepicker/bootstrap-datepicker.css">

    <!-- Custom scroll bar css -->
    <link href="../assets/plugins/scroll-bar/jquery.mCustomScrollbar.css" rel="stylesheet" />

    <!-- P-scroll css -->
    <link href="../assets/plugins/p-scroll/p-scroll.css" rel="stylesheet" type="text/css">

    <!-- Font-icons css -->
    <link href="../assets/css/icons.css" rel="stylesheet">

    <!-- Rightsidebar css -->
    <link href="../assets/plugins/sidebar/sidebar.css" rel="stylesheet">

    <!-- Nice-select css  -->
    <link href="../assets/plugins/jquery-nice-select/css/nice-select.css" rel="stylesheet" />
    <!-- Notifications css -->
    <link href="../assets/plugins/notify/css/jquery.growl.css" rel="stylesheet" />
    <!-- Color-palette css-->
    <link rel="stylesheet" href="../assets/css/skins.css" />
    <!-- Jquery-scripts -->
    <script src="../assets/js/vendors/jquery-3.2.1.min.js"></script>
    <style>
        .dropdown .dropdown-menu {
            display: none;
        }

        .dropdown:hover > .dropdown-menu,
        .dropend:hover > .dropdown-menu {
            display: block;
        }

        .dropdown-menu.droped {
            position: absolute;
            top: 0px !important;
            right: -245px !important;
            left: auto;
            z-index: 1;
            width: 100%;
        }

        .dropdown-toggle.toggle-sub::after {
            position: absolute;
            top: 10px;
            right: 14px;
        }

        .dropdown-menu-lg.dropdown-menu {
            margin-top: 0px;
        }

        .header-megamenu-dropdown .dropdown-menu.droped:after {
            display: none;
        }
    </style>

</head>
<body class="app sidebar-mini">
    <!-- Loader -->
    <div id="loading">
        <img src="../assets/images/other/loader.svg" class="loader-img" alt="Loader">
    </div>

    <!-- main-header -->
    <div class="page">
        <div class="page-main">
            <div class="header-main header sticky">
                <div class="app-header header top-header navbar-collapse ">
                    <div class="container-fluid">
                        <div class="d-flex">
                            <a class="header-brand" href="index.html">
                                <img src="../assets/images/brand/logo.png" class="header-brand-img desktop-logo " alt="Dashlot logo">
                                <img src="../assets/images/brand/logo1.png" class="header-brand-img desktop-logo-1 " alt="Dashlot logo">
                                <img src="../assets/images/brand/favicon.png" class="mobile-logo" alt="Dashlot logo">
                                <img src="../assets/images/brand/favicon1.png" class="mobile-logo-1" alt="Dashlot logo">
                            </a>
                            <a href="#" data-toggle="sidebar" class="nav-link icon toggle"><i class="fe fe-align-justify fs-20"></i></a>
                            @Html.Partial("~/Views/Shared/_CommonHeaderMenu.cshtml")
                            @Html.Partial("~/Views/Shared/_CommonHeaderRight.cshtml")
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="main-header side-header sticky nav nav-item" style="display:none">
        <div class="container-fluid main-container ">
            <div class="header-logo">
                <a href="/"><img src="/assets/img/el-anim.gif" class=" m-0 mb-4" alt="logo" width="" height="80"></a>
            </div>
            @Html.Partial("~/Views/Shared/_CommonHeaderMenu.cshtml")
            @Html.Partial("~/Views/Shared/_CommonHeaderRight.cshtml")
        </div>
    </div>
    <!-- /main-header -->
    <!-- /Loader -->
    @if (TempData[Temp_Message.Success] != null)
    {
        <div class="row">
            <div class="col-sm-12 col-md-12" id="success-alert">
                <div class="alert alert-success">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                    <strong>Success Message</strong>
                    <hr class="message-inner-separator">
                    <p>You successfully read this important alert message.</p>
                </div>
            </div>
          
        </div>
        <div class="col-xl-4 col-lg-4 col-md-6" >
            <!--Page Widget Error-->
            <div class="card bd-0 mg-b-20 bg-success-transparent alert p-0">
                <div class="card-header text-success font-weight-bold">
                    <i class="far fa-check-circle"></i> Success
                    <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button"><span aria-hidden="true">×</span></button>
                </div>
                <div class="card-body text-success">
                    <strong>@TempData[Temp_Message.Success] </strong>
                </div>
            </div>
            <!--Page Widget Error-->
        </div>
        <script>
            var successAlert = document.getElementById('success-alert');
            if (successAlert) {
                setTimeout(function () {
                    successAlert.style.display = 'none';
                }, 6000);
            }
        </script>
    }
    @if (TempData[Temp_Message.Error] != null)
    {
        <div class="col-xl-4 col-lg-4 col-md-6" id="error-alert">
            <!--Page Widget Error-->
            <div class="card bd-0 mg-b-20 bg-danger-transparent alert p-0">
                <div class="card-header text-danger font-weight-bold">
                    <i class="far fa-times-circle"></i> Error Data
                    <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button"><span aria-hidden="true">×</span></button>
                </div>
                <div class="card-body text-danger">
                    <strong>@TempData[Temp_Message.Error]</strong>
                </div>
            </div>
            <!--Page Widget Error-->
        </div>
        <script>
            var errorAlert = document.getElementById('error-alert');
            if (errorAlert) {
                setTimeout(function () {
                    errorAlert.style.display = 'none';
                }, 3000);
            }</script>
    }
    <div class="page">
        <div class="page-main">
            @if (TempData[Temp_Message.Success] != null)
            {
                <script>
                    // Generated by CoffeeScript 2.1.0
                    (function () {
                        $(function () {
                            debugger;
                            $.growl.notice({
                                message: "@TempData[Temp_Message.Success]"
                            });

                        });
                    }).call(this);

                </script>
            }
            @if (TempData[Temp_Message.Error] != null)
            {
                <script>
                    // Generated by CoffeeScript 2.1.0
                    (function () {
                        $(function () {
                            debugger;
                            $.growl.notice({
                                message: "@TempData[Temp_Message.Error]"
                            });

                        });
                    }).call(this);

                </script>
            }
            @if (ViewData["Dashboard"] == null)
            {
                @RenderBody()
            }
            else
            {
                @RenderBody()
            }
        </div>

        <footer class="footer-main icon-footer">
            <div class="container">
                <div class="  mt-2 mb-2 text-center">
                    Copyright © 2019 <a href="#" class="fs-14 text-primary">Dashlot</a>. Designed by <a href="https://spruko.com/" class="fs-14 text-primary">Spruko Technologies Private Limited</a> All rights reserved.
                </div>
            </div>
        </footer>
    </div>
    <!--- JQuery min js --->
    <!-- Jquery-scripts -->
    <script src="../assets/js/vendors/jquery-3.2.1.min.js"></script>

    <!-- Moment js-->
    <script src="../assets/plugins/moment/moment.min.js"></script>

    <!-- Bootstrap-scripts js -->
    <script src="../assets/js/vendors/bootstrap.bundle.min.js"></script>

    <!-- Sparkline JS-->
    <script src="../assets/js/vendors/jquery.sparkline.min.js"></script>

    <!-- Bootstrap-daterangepicker js -->
    <script src="../assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>

    <!-- Bootstrap-datepicker js -->
    <script src="../assets/plugins/bootstrap-datepicker/bootstrap-datepicker.js"></script>

    <!-- Chart-circle js -->
    <script src="../assets/js/vendors/circle-progress.min.js"></script>

    <!-- Rating-star js -->
    <script src="../assets/plugins/rating/jquery.rating-stars.js"></script>

    <!-- Clipboard js -->
    <script src="../assets/plugins/clipboard/clipboard.min.js"></script>
    <script src="../assets/plugins/clipboard/clipboard.js"></script>

    <!-- Prism js -->
    <script src="../assets/plugins/prism/prism.js"></script>

    <!-- Custom scroll bar js-->
    <script src="../assets/plugins/scroll-bar/jquery.mCustomScrollbar.concat.min.js"></script>

    <!-- Nice-select js-->
    <script src="../assets/plugins/jquery-nice-select/js/jquery.nice-select.js"></script>
    <script src="../assets/plugins/jquery-nice-select/js/nice-select.js"></script>

    <!-- P-scroll js -->
    <script src="../assets/plugins/p-scroll/p-scroll.js"></script>
    <script src="../assets/plugins/p-scroll/p-scroll-1.js"></script>

    <!-- Sidemenu js-->
    <script src="../assets/plugins/sidemenu/icon-sidemenu.js"></script>

    <!-- JQVMap -->
    <script src="../assets/plugins/jqvmap/jquery.vmap.js"></script>
    <script src="../assets/plugins/jqvmap/maps/jquery.vmap.world.js"></script>
    <script src="../assets/plugins/jqvmap/jquery.vmap.sampledata.js"></script>

    <!-- Apexchart js-->
    <script src="../assets/js/apexcharts.js"></script>

    <!-- Chart js-->
    <script src="../assets/plugins/chart/chart.min.js"></script>

    <!-- Index js -->
    <script src="../assets/js/index.js"></script>
    <script src="../assets/js/index-map.js"></script>

    <!-- Rightsidebar js -->
    <script src="../assets/plugins/sidebar/sidebar.js"></script>
    <!-- Notifications js -->
    <script src="../assets/plugins/notify/js/rainbow.js"></script>
    <script src="../assets/plugins/notify/js/sample.js"></script>
    <script src="../assets/plugins/notify/js/jquery.growl.js"></script>
    <!-- Custom js -->
    <script src="../assets/js/custom.js"></script>

    <script>
        
        $(".allow_numeric").on("input", function (evt) {
            var self = $(this);
            self.val(self.val().replace(/\D/g, ""));
            if ((evt.which < 48 || evt.which > 57)) {
                evt.preventDefault();
            }
        });

        //function dateCheck() {
        //    debugger
        //    let startDate = new Date($("#from-date").val());
        //    let endDate = new Date($("#to-date").val());

        //    if (startDate > endDate) {
        //        alert("Please enter To date greater than or equal to From date.");
        //        return false;
        //    }
        //    else
        //        return true;

        //}

        $(document).ready(function () {
            var dropdown = $('.select2-list');

            // Get the options and sort them by text
            var sortedOptions = dropdown.find('option').sort(function (a, b) {
                return $(a).text().localeCompare($(b).text());
            });
            //open datepicker field on icon button click
            $('#datepicker-from').click(function () {
                $('#from-date').datepicker('show');
            });
            $('#datepicker-to').click(function () {
                $('#to-date').datepicker('show');
            });
            //validation for to date greater than from date
            $("#from-date").datepicker().change(function () {
                $("#to-date").datepicker('option', 'minDate', $(this).datepicker('getDate'));
            });
            $("#datepicker-from").datepicker().change(function () {
                $("#datepicker-to").datepicker('option', 'minDate', $(this).datepicker('getDate'));
            });
            /*$("#datepicker-to").datepicker();*/


            $('input').attr('autocomplete', 'off');
            var clearsearchInput = document.querySelector('.clearsearch');
            var inputValue = clearsearchInput.value;
            var clearButton = $('.clear-search-button');

            if (inputValue.length > 0) {
                clearButton.show(); // Show the clear button if there is text
            } else {
                clearButton.hide(); // Hide the clear button if there is no text
            }
            // Add an event listener for the input fields
            $("input").on("input", function () {
                // Get the associated validation message element
                var validationMessage = $(this).siblings(".text-danger");

                // Clear the validation message
                validationMessage.text("");
            });

            // Add an event listener for when an input field loses focus
            $("input").on("blur", function () {
                // Get the associated validation message element
                var validationMessage = $(this).siblings(".text-danger");

                // Check if the input value is empty or invalid (you'll need to customize this check)
                if ($(this).val() === "") {
                    // Show the validation message
                    validationMessage.text("This field is required.");
                }
            });
            $(".inputDate").on("blur", function () {
                // Get the associated validation message element
                var validationMessage = $(this).siblings(".text-danger");

                // Check if the input value is empty or invalid (you'll need to customize this check)
                if ($(this).val() === "" || $(this).val() === null || $(this).val() === undefined) {
                    // Show the validation message
                    validationMessage.text("This field is required.");
                }
            });

            // Add an event listener for the dropdown change
            $(".dropdown-validation").on("change", function () {
                // Get the selected value
                var selectedValue = $(this).val();

                // Get the associated validation message element
                var validationMessage = $(this).siblings(".text-danger");

                // Check if the selected value is "0"
                if (selectedValue === "0") {
                    // Show the validation message
                    validationMessage.text("Please select a valid value.");
                } else {
                    // Clear the validation message
                    validationMessage.text("");
                }
            });

        });
        $('.clearsearch').keyup(function () {
            var inputValue = $(this).val();
            var clearButton = $('.clear-search-button');

            if (inputValue.length > 0) {
                clearButton.show(); // Show the clear button if there is text
            } else {
                clearButton.hide(); // Hide the clear button if there is no text
            }
        });

        // Add a click event handler for the clear search button
        $('.clear-search-button').click(function () {
            // Clear the search input
            $('.clearsearch').val('');
            $('#toDate').val('');
            $('#fromDate').val('');
            var clearButton = $('.clear-search-button');
            clearButton.hide();
            // Reload the page
            $('#btnSearch').click();
        });
        var tdElement = $("table tr td[colspan]");
        tdElement.removeAttr("colspan");
        var table = document.getElementById("example1");
        var thElements = table.getElementsByTagName("th");
        var newColspan = thElements.length; // Set the desired colspan value
        tdElement.attr("colspan", newColspan);
    </script>
    @*@await RenderSectionAsync("Scripts", required: false)*@

</body>
</html>

